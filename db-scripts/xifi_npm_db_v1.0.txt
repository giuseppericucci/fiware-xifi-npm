
CREATE DATABASE xifi_npm_db;
GRANT USAGE ON *.* TO <username> IDENTIFIED BY '<password>';
GRANT ALL PRIVILEGES ON xifi_npm_db.* TO <username>;
GRANT USAGE ON *.* TO <username>@localhost IDENTIFIED BY '<password>';
GRANT ALL PRIVILEGES ON xifi_npm_db.* TO <username>@localhost;

USE xifi_npm_db;

CREATE TABLE DOMAIN (id INT NOT NULL AUTO_INCREMENT, 
    NAME VARCHAR(30) NOT NULL,
    PRIMARY KEY (id));

CREATE TABLE UNIQUEID (id INT NOT NULL AUTO_INCREMENT, 
    PRIMARY KEY (id));

CREATE TABLE RESOURCE_ELEMENT (id INT NOT NULL, 
    NAME VARCHAR(30) NOT NULL,
    DESCRIPTION VARCHAR(30) NOT NULL,
    IP_ADDRESS VARCHAR(15),
    DOMAIN_REFERENCE INT NOT NULL,
    PRIMARY KEY (id));

CREATE TABLE RESOURCE_PORT (id INT NOT NULL, 
    NAME VARCHAR(30) NOT NULL,
    DESCRIPTION VARCHAR(30) NOT NULL,
    IP_ADDRESS VARCHAR(15),
    RESOURCE_ELEMENT_REFERENCE INT NOT NULL,
    PRIMARY KEY (id));

CREATE TABLE VARIABLE (id INT NOT NULL AUTO_INCREMENT, 
    NAME VARCHAR(30) NOT NULL,
    USER_FRIENDLY_NAME VARCHAR(30) NOT NULL,
    PRIMARY KEY (id));

CREATE TABLE VARIABLE_INFO_VALUE (id INT NOT NULL AUTO_INCREMENT, 
    NAME VARCHAR(30) NOT NULL,
    TIMESTAMP LONG NOT NULL,
    VALUE VARCHAR(50) NOT NULL,
    ERROR_CODE INT,
    VARIABLEID_REFERENCE INT NOT NULL,
    RESOURCEID_REFERENCE INT NOT NULL,
    PRIMARY KEY (id));

INSERT INTO DOMAIN values (default, 'TelecomItalia');

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_ELEMENT values ((SELECT MAX(id) FROM UNIQUEID), 'Sirius', 'Cisco Catalyst 3524 XL switch', '163.162.45.98', 1);

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_PORT values ((SELECT MAX(id) FROM UNIQUEID), '19', 'Fast Ethernet', NULL,1);

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_PORT values ((SELECT MAX(id) FROM UNIQUEID), '20', 'Fast Ethernet', NULL,1);

INSERT INTO VARIABLE values (default, 'sysUpTime', '');
INSERT INTO VARIABLE values (default, 'ifOperStatus', '');
INSERT INTO VARIABLE values (default, 'ifInOctects', '');
INSERT INTO VARIABLE values (default, 'ifInUcastPkts', '');
INSERT INTO VARIABLE values (default, 'ifInDiscards', '');
INSERT INTO VARIABLE values (default, 'ifInError', '');
INSERT INTO VARIABLE values (default, 'ifOutOctects', '');
INSERT INTO VARIABLE values (default, 'ifOutUcastPkts', '');
INSERT INTO VARIABLE values (default, 'ifOutDiscards', '');
INSERT INTO VARIABLE values (default, 'ifOutError', '');

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_ELEMENT values ((SELECT MAX(id) FROM UNIQUEID), 'Ramarro', 'Cisco SGR', '163.162.45.102',1);

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_PORT values ((SELECT MAX(id) FROM UNIQUEID), '5', 'GbE', NULL,4);

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_PORT values ((SELECT MAX(id) FROM UNIQUEID), '6', 'GbE', NULL,4);

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_PORT values ((SELECT MAX(id) FROM UNIQUEID), '7', 'GbE', NULL,4);

INSERT INTO UNIQUEID values (default);
INSERT INTO RESOURCE_PORT values ((SELECT MAX(id) FROM UNIQUEID), '8', 'GbE', NULL,4);


